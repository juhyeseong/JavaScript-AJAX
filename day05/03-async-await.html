<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03-async-await.html</title>
</head>
<body>

    <h1>03-async-await.html</h1>
    <hr>

    <h3>
        async : 함수 선언 앞에 붙여서 비동기 처리 함수임을 명시한다<br>
        내부에서 다른 비동기 함수를 await로 호출할 수 있다<br>
        async 함수의 반환값은 await로 호출하면 객체를 바로 받는다<br>
        async 함수의 반환값은 그냥 호출하면 Promise 객체로 받는다
    </h3>

    <h3>
        await : 비동기 함수(async function)를 호출할 때 사용한다<br>
        함수의 호출이 끝날때 까지 이후 코드를 호출하지 않는다
    </h3>

    <div id="root"></div>

    <script>
        async function test() {
            const url = 'http://192.168.112.7:8080/day12/youtube'
            const arr = await fetch(url).then(resp => resp.json())

            const root = document.getElementById('root')
            let tag = ''
            arr.forEach(ob => {
                tag += `<div class="title">${ob.title}</div>`
            })
            root.innerHTML += tag
        }

        window.onload = test
    </script>


    
</body>
</html>